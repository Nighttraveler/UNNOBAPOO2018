<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                template="/base.xhtml">

    <ui:define name="menu" >
        <f:view contentType="text/html">
            <h:form>
                <p:growl id="messages" autoUpdate="true"/>

                    <p:menubar>
                        <c:choose>
                            <c:when test="#{sessionBacking.usuario.administrador}">
                                <p:submenu label="Usuarios">
                                    <p:menuitem  value="Listar" url="#{sessionBacking.urlMap.getIndexUsuarios()}" />
                                    <p:menuitem  value="Nuevo" url="#{sessionBacking.urlMap.getNewUsuario()}" />
                                </p:submenu>

                                <p:submenu label="#{bundle['objetivos']}">
                                    <p:menuitem value="#{bundle['form.list']}" url="#{sessionBacking.urlMap.getIndexObjetivos()}"/>
                                    <p:menuitem value="#{bundle['form.create']}" url="#{sessionBacking.urlMap.getNewObjetivo()}"/>
                                </p:submenu>

                                <p:submenu label="#{bundle['convocatorias']}">
                                    <p:menuitem value="#{bundle['form.list']}" url="#{sessionBacking.urlMap.getIndexConvocatorias()}"/>
                                    <p:menuitem value="#{bundle['form.create']}" url="#{sessionBacking.urlMap.getNewConvocatoria()}"/>
                                </p:submenu>
                                <p:submenu label="#{bundle['lineasestrategicas']}">
                                    <p:menuitem value="#{bundle['form.list']}" url="#{sessionBacking.urlMap.getIndexLineasEstrategicas()}"/>
                                    <p:menuitem value="#{bundle['form.create']}" url="#{sessionBacking.urlMap.getNewLineaEstrategica()}"/>
                                </p:submenu>
                                <p:submenu label="#{bundle['ambitos']}">
                                    <p:menuitem value="#{bundle['form.list']}" url="#{sessionBacking.urlMap.getIndexAmbitos()}"/>
                                    <p:menuitem value="#{bundle['form.create']}" url="#{sessionBacking.urlMap.getNewAmbito()}"/>
                                </p:submenu>

                                <p:submenu label="#{bundle['actividades']}">
                                    <p:submenu label="Simples">
                                        <p:menuitem value="#{bundle['form.list']}" url="#{sessionBacking.urlMap.getIndexActividades()}"/>
                                        <p:menuitem value="#{bundle['form.create']}" url="#{sessionBacking.urlMap.getNewActividad()}"/>
                                    </p:submenu>
                                    <p:submenu label="Compuestas">
                                        <p:menuitem value="#{bundle['form.list']}" url="#{sessionBacking.urlMap.getIndexActividadesCompuestas()}"/>
                                        <p:menuitem value="#{bundle['form.create']}" url="#{sessionBacking.urlMap.getNewActividadCompuesta()}"/>
                                    </p:submenu>
                                    <p:menuitem value="#{bundle['form.list.all']}" url="#{sessionBacking.urlMap.getIndexActividadesAll()}" />

                                </p:submenu>
                            </c:when>

                            <c:otherwise>
                                <p:submenu label="Usuarios">
                                    <p:menuitem  value="Listar" url="#{sessionBacking.urlMap.getIndexUsuarios()}" />
                                </p:submenu>

                                <p:submenu label="#{bundle['objetivos']}">
                                    <p:menuitem value="#{bundle['form.list']}" url="#{sessionBacking.urlMap.getIndexObjetivos()}"/>
                                </p:submenu>

                                <p:submenu label="#{bundle['convocatorias']}">
                                    <p:menuitem value="#{bundle['form.list']}" url="#{sessionBacking.urlMap.getIndexConvocatorias()}"/>
                                </p:submenu>
                                <p:submenu label="#{bundle['lineasestrategicas']}">
                                    <p:menuitem value="#{bundle['form.list']}" url="#{sessionBacking.urlMap.getIndexLineasEstrategicas()}"/>
                                </p:submenu>
                                <p:submenu label="#{bundle['ambitos']}">
                                    <p:menuitem value="#{bundle['form.list']}" url="#{sessionBacking.urlMap.getIndexAmbitos()}"/>
                                </p:submenu>

                                <p:submenu label="#{bundle['actividades']}">
                                    <p:submenu label="Simples">
                                        <p:menuitem value="#{bundle['form.list']}" url="#{sessionBacking.urlMap.getIndexActividades()}"/>
                                    </p:submenu>
                                    <p:submenu label="Compuestas">
                                        <p:menuitem value="#{bundle['form.list']}" url="#{sessionBacking.urlMap.getIndexActividadesCompuestas()}"/>
                                    </p:submenu>
                                    <p:menuitem value="#{bundle['form.list.all']}" url="#{sessionBacking.urlMap.getIndexActividadesAll()}" />

                                </p:submenu>
                            </c:otherwise>


                        </c:choose>
                        <p:submenu styleClass="nav-items" label="#{sessionBacking.usuario.nombre}" >
                            <p:menuitem  value="#{bundle['welcome.mis.actividades']}" action="#{sessionBacking.urlMap.getWELCOME()}"/>
                            <p:menuitem  value="#{bundle['logout.button.value']}" action="#{sessionBacking.logout()}"/>
                        </p:submenu>

                    </p:menubar>



        <div id="content" class="content">
            <ui:insert name="content"/>
        </div>

        <div id="bottom">
            <ui:insert name="bottom"/>
        </div>
            </h:form>
        </f:view>
    </ui:define>

</ui:composition>
